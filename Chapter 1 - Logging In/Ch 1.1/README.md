#Chapter 1.1 - Logging in with SteamGuard

[Previous Chapter](../README.md)

**You can skip this chapter if you don't have SteamGuard enabled on the bot.** You should read this chapter if you have a bot for trading or something, as mobile auth is needed to trade without a trade hold!

In the previous chapter you should have encountered this error: `Error details: SteamGuardMobile` or something of the sorts. That's because we need to provide a Steam mobile auth code to login. But how do we generate this without a phone? A nice little module by DoctorMcKay called [steam-totp](https://github.com/DoctorMcKay/node-steam-totp) - there are some other modules to do this, but DrMcKay's is my favorite. To install, just `npm install steam-totp` as you did with other modules.

To use this module:

```js
var SteamTotp = require('steam-totp');
var sharedSecret = "cnOgv/KdpLoP6Nbh0GMkXkPXALQ="; //replace this string with the sharedSecret in the intro chapter!
console.log(SteamTotp.generateAuthCode(sharedSecret));
```

This will print to your screen the current Auth code generated by the Steam Mobile app for your account, given the sharedSecret is correct. If it isn't working properly, your system time may be off (this may happen with some VPSes). 

To use this to login to Steam in the previous chapter, we simply add `twoFactorCode` to logOnOptions in our `login.js` file.

```js
//change this in login.js
var logOnOptions = {
  'accountName': "CharredBot04",
  'password': "myPasswordGoesHere",
  'twoFactorCode': SteamTotp.generateAuthCode("cnOgv/KdpLoP6Nbh0GMkXkPXALQ=")
};
```

When `steamcommunity` now logs in, it will receive the code generated by `SteamTotp.generateAuthCode` and use it to log in, just as if you logged in via browser and entered the correct mobile auth code.
